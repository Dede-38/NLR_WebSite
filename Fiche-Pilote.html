<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Connexion - NLR Esport</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>
   <div id="header"></div>
<script>
    fetch('header.html')
        .then(response => response.text())
        .then(data => {
            document.getElementById('header').innerHTML = data;
            feather.replace(); // Initialiser les icônes
            highlightActivePage();
        })
        .catch(error => console.error('Erreur lors du chargement du header:', error));
    
        function highlightActivePage() {
        const currentPage = window.location.pathname.split("/").pop();
        const navItems = document.querySelectorAll('.nav-item');

        navItems.forEach(item => {
            const page = item.getAttribute('data-page');
            if (page === currentPage) {
                item.classList.add('active');
            }
        });
    }
</script>


<main class="fiche-pilote">

  <a href="Pilotes.html" class="back-arrow">← Retour</a>

  <h2 id="titre-profil">Profil de ...</h2>

  <div class="fiche-wrapper">
    <img id="pilote-photo" src="Images/pilote.jpg" alt="Pilote">
    <div class="fiche-info">
      <p><strong>Nom :</strong> <span id="nom"></span></p>
      <p><strong>Prénom :</strong> <span id="prenom"></span></p>
      <p><strong>Âge :</strong> —</p>
      <p><strong>Id en ligne :</strong> <span id="psn"></span></p>
      <p><strong>Numéro de pilote :</strong> <span id="numero"></span></p>
    </div>
  </div>

  <h3>Setup :</h3>
  <div class="setup-box">
    <div><img src="Images/tgt.jpg" alt="TGT II"><p>TGT II</p></div>
    <div><img src="Images/t3pm.jpg" alt="T3PM"><p>T3PM</p></div>
    <div><img src="Images/playseat.jpg" alt="Playseat"><p>Playseat gran turismo</p></div>
  </div>

  <h3>Résultats :</h3>
  <div class="resultats-placeholder"></div>
  <div class="image-placeholder"></div>

</main>

 <div id="footer"></div>
<script>
    fetch('footer.html')
        .then(response => response.text())
        .then(data => {
            document.getElementById('footer').innerHTML = data;
        });
</script>

<script>
  const params = new URLSearchParams(window.location.search);
  document.getElementById('prenom').textContent = params.get('nom') ?? 'Inconnu';
  document.getElementById('nom').textContent = '—'; // À compléter plus tard si stocké séparément
  document.getElementById('psn').textContent = params.get('id-PSN') ?? '—';
  document.getElementById('numero').textContent = '#' + (params.get('numero') ?? '??');
  document.getElementById('pilote-photo').src = params.get('photo') ?? 'Images/pilote.jpg';
  document.getElementById('pilote-photo').alt = params.get('nom') ?? 'Pilote';
  document.getElementById('titre-profil').textContent = `Profil de ${params.get('nom') ?? 'Nom Pilote'}`;
    feather.replace();

</script>

</body>
</html>
